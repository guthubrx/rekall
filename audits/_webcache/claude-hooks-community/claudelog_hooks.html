<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-mechanics/hooks" data-has-hydrated="false" style="--sponsor: 1; --sponsor-color: #92fce9;">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<script>!function(){try{var e="true"===localStorage.getItem("claudelog-focus-mode");document.documentElement.style.setProperty("--focus-mode",e?"1":"0")}catch(e){}}()</script>
<title data-rh="true">Hooks | ClaudeLog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.claudelog.com/mechanics/hooks/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hooks | ClaudeLog"><meta data-rh="true" name="description" content="Master Claude Code hooks for automated workflow responses. Learn PreToolUse, PostToolUse triggers, smart dispatching patterns, and deployment validation."><meta data-rh="true" property="og:description" content="Master Claude Code hooks for automated workflow responses. Learn PreToolUse, PostToolUse triggers, smart dispatching patterns, and deployment validation."><meta data-rh="true" property="og:image" content="https://www.claudelog.com/img/discovery/032_wind_orange.png"><meta data-rh="true" name="twitter:image" content="https://www.claudelog.com/img/discovery/032_wind_orange.png"><link data-rh="true" rel="icon" href="/img/favicon.ico?v=4"><link data-rh="true" rel="canonical" href="https://www.claudelog.com/mechanics/hooks/"><link data-rh="true" rel="alternate" href="https://www.claudelog.com/mechanics/hooks/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.claudelog.com/mechanics/hooks/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.claudelog.com/"},{"@type":"ListItem","position":2,"name":"Mechanics"},{"@type":"ListItem","position":3,"name":"Development"},{"@type":"ListItem","position":4,"name":"Hooks","item":"https://www.claudelog.com/mechanics/hooks"}]}</script><link rel="preload" href="/fonts/TWKLausanne-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="/fonts/TWKLausanne-600.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<link rel="preload" href="/fonts/TWKLausanne-700.woff2" as="font" type="font/woff2" crossorigin="anonymous">
<script async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3333878499175888" crossorigin="anonymous"></script>
<script src="/js/fx-fad7f1.js" defer="defer"></script>
<script src="/js/sidebar-scroll.js"></script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","name":"ClaudeLog","url":"https://www.claudelog.com"}</script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"WebSite","url":"https://www.claudelog.com/","potentialAction":{"@type":"SearchAction","target":"https://www.claudelog.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","@id":"#inventorBlack","name":"InventorBlack","alternateName":"Wilfred Kasekende","jobTitle":"CTO","worksFor":{"@type":"Organization","name":"Command Stick","url":"https://commandstick.com"},"url":"https://claudelog.com","sameAs":["https://linkedin.com/in/wkasekende","https://reddit.com/r/ClaudeAI"],"knowsAbout":["Claude Code","AI Development Tools","Terminal Workflows","Developer Productivity","AI-Assisted Development","Productivity Optimization","Human Computer Interface Design","Product Design","Intellectual Property"],"description":"CTO at Command Stick and moderator at r/ClaudeAI. Expert in Claude Code mechanics, AI-assisted development workflows, and productivity optimization techniques."}</script>
<script type="application/ld+json">{"@context":"https://schema.org","@type":"Organization","name":"ClaudeLog","alternateName":"Command Stick","url":"https://claudelog.com","logo":"https://claudelog.com/img/claude_log_logo.svg","contactPoint":{"@type":"ContactPoint","name":"ClaudeLog Support","email":"hello@claudelog.com","contactType":"customer service"},"sameAs":["https://www.reddit.com/user/inventor_black/","https://www.linkedin.com/in/wilfredkasekende/"],"founder":{"@type":"Person","name":"Wilfred Kasekende","jobTitle":"CTO at Command Stickâ„¢","url":"https://www.linkedin.com/in/wilfredkasekende/"},"description":"Claude Code documentation, guides, tutorials and best practices from real-world experience.","knowsAbout":["Claude Code","AI Development Tools","Terminal Workflows","Developer Productivity"]}</script>
<meta property="og:site_name" content="ClaudeLog">
<script>!function(t,e,n,c,i,s,a){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(s=e.createElement(c)).async=1,s.src="https://www.clarity.ms/tag/sf9htiut1i",(a=e.getElementsByTagName(c)[0]).parentNode.insertBefore(s,a)}(window,document,"clarity","script")</script>
<meta name="robots" content="index, follow, max-image-preview:large">
<link rel="icon" href="https://www.claudelog.com/img/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="https://www.claudelog.com/img/favicon.ico" type="image/x-icon">
<style>
        /* Critical CSS to prevent FOUC */
        html { visibility: hidden; }
        html[data-theme] { visibility: visible; }

        * {
          font-family: 'TWKLausanne', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
          -webkit-font-smoothing: antialiased !important;
          -moz-osx-font-smoothing: grayscale !important;
        }

        :root {
          --ifm-font-family-base: 'TWKLausanne', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
          --ifm-color-primary: #B061F1 !important;
          --ifm-color-emphasis-300: #333333 !important;
          --ifm-color-emphasis-600: #333333 !important;
          --ifm-background-color: rgb(38, 38, 36) !important;
          --ifm-navbar-background-color: rgb(38, 38, 36) !important;
          --ifm-footer-background-color: rgb(38, 38, 36) !important;
          --ifm-font-color-base: rgb(191, 191, 188) !important;
          --ifm-heading-color: rgb(191, 191, 188) !important;
          --sponsor: 1 !important;
          --sponsor-color: #92fce9 !important;
          --focus-mode: 0;
        }

        body, html {
          background-color: rgb(38, 38, 36) !important;
          color: rgb(191, 191, 188) !important;
        }

        /* Navbar critical styling */
        .navbar {
          background-color: rgb(38, 38, 36) !important;
          border-bottom: 1px solid #333333 !important;
          box-shadow: none !important;
        }

        .navbar__title, .navbar__link {
          color: rgb(191, 191, 188) !important;
        }

        .navbar__link--active {
          color: #ffffff !important;
        }

        /* Footer critical styling */
        .footer, .footer--dark {
          background-color: rgb(38, 38, 36) !important;
          border-top: 1px solid #333333 !important;
        }

        .footer__copyright {
          color: rgb(191, 191, 188) !important;
        }

        /* Menu/Sidebar critical styling - removed general .menu__link to prevent conflicts */
        nav.menu {
          scroll-behavior: smooth !important;
        }

        .menu__link--active {
          color: #ffffff !important;
          background-color: transparent !important;
        }

        .menu__link:hover {
          color: #B061F1 !important;
          background-color: transparent !important;
        }

        /* Link critical styling */
        .markdown a {
          color: #ffffff !important;
        }

        .markdown a:hover {
          color: #B061F1 !important;
        }

        /* Code block critical styling */
        .theme-code-block, pre[class*="language-"], pre {
          background-color: #30302e !important;
        }

        /* Admonition critical styling */
        .alert--success {
          background-color: rgb(38, 38, 36) !important;
          border: 1px solid #333333 !important;
          box-shadow: none !important;
        }

        .admonitionContent_BuS1 {
          color: rgb(191, 191, 188) !important;
        }

        .admonitionIcon_Rf37 svg {
          color: #B061F1 !important;
        }
      </style>
<meta name="keywords" content="Claude Code, Claude Code guides, Claude Code tutorials, Claude Code docs, Claude Code examples, CLAUDE.md, AI coding assistant, terminal development, Claude Code best practices">
<meta property="og:title" content="ClaudeLog - Claude Code Docs, Guides, Tutorials &amp; Best Practices">
<meta property="og:type" content="website">
<meta property="og:url" content="https://claudelog.com">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="ClaudeLog - Claude Code Docs, Guides, Tutorials &amp; Best Practices">
<script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-YEJGLN308J"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-YEJGLN308J")</script>
<script src="/js/consentCallback.js" defer="defer"></script>
<script>"undefined"!=typeof onConsentUpdate&&onConsentUpdate((()=>{window.location.reload()}))</script>
<script src="/js/adblock-detector.js" defer="defer"></script>
<script src="/js/st-fad7f1.js" defer="defer"></script>
<link rel="alternate" hreflang="en" href="https://www.claudelog.com">
<link rel="alternate" type="application/rss+xml" title="ClaudeLog - Claude Code experiments, insights &amp; mechanics" href="/rss.xml">
<meta name="msvalidate.01" content="0dbc3bda5f10a7cf007fa2519616970c"><link rel="stylesheet" href="/assets/css/styles.19e77251.css">
<link rel="preload" href="/assets/js/runtime~main.42d2ce5f.js" as="script">
<link rel="preload" href="/assets/js/main.eba49740.js" as="script">
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus">
<link rel="preload" as="image" href="/img/claude_log_logo_blank.svg"><link rel="preload" as="image" href="/img/claude_log_logo_part_1.svg"><link rel="preload" as="image" href="/img/claude_log_logo_part_2.svg"><link rel="preload" as="image" href="/img/claude_log_logo_part_3.svg"><link rel="preload" as="image" href="/img/claude_log_logo_part_4.svg"><link rel="preload" as="image" href="/img/claude_log_logo_part_5.svg"><link rel="preload" as="image" href="/img/claude_log_logo_part_6.svg"><link rel="preload" as="image" href="/img/claude_log_logo_part_7.svg"><link rel="preload" as="image" href="/play.svg"><link rel="preload" as="image" href="/focus_mode.svg"><link rel="preload" as="image" href="/img/ads/sponsors/verdent_ai_horizontal_large_2.png"><link rel="preload" as="image" href="/img/star_logo_part_1.svg"><link rel="preload" as="image" href="/img/star_logo_part_2.svg"><link rel="preload" as="image" href="/img/star_logo_part_3.svg"><link rel="preload" as="image" href="/img/star_logo_part_4.svg"><link rel="preload" as="image" href="/img/star_logo_part_5.svg"><link rel="preload" as="image" href="/img/star_logo_part_6.svg"><link rel="preload" as="image" href="/img/metrics-icon-part-1.svg"><link rel="preload" as="image" href="/img/metrics-icon-part-2.svg"><link rel="preload" as="image" href="/img/metrics-icon-part-3.svg"><link rel="preload" as="image" href="/img/metrics-icon-part-4.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><div style="display:flex;align-items:center;margin-right:auto;cursor:pointer"><a class="navbar__brand" href="/"><div class="navbar-logo-container"><img src="/img/claude_log_logo_blank.svg" class="logo-layer logo-base" alt=""><img src="/img/claude_log_logo_part_1.svg" class="logo-layer logo-part-1" alt=""><img src="/img/claude_log_logo_part_2.svg" class="logo-layer logo-part-2" alt=""><img src="/img/claude_log_logo_part_3.svg" class="logo-layer logo-part-3" alt=""><img src="/img/claude_log_logo_part_4.svg" class="logo-layer logo-part-4" alt=""><img src="/img/claude_log_logo_part_5.svg" class="logo-layer logo-part-5" alt=""><img src="/img/claude_log_logo_part_6.svg" class="logo-layer logo-part-6" alt=""><img src="/img/claude_log_logo_part_7.svg" class="logo-layer logo-part-7" alt=""></div><b class="navbar__title text--truncate">ClaudeLog</b></a></div><div class="mobile-only-audio-player"><audio preload="metadata" style="display:none"></audio><button class="audio-player-button" style="background:transparent;border:none;border-radius:4px;padding:0.25rem;cursor:default;transition:opacity 300ms ease;height:calc(2rem * var(--ifm-breadcrumb-size-multiplier));width:calc(2rem * var(--ifm-breadcrumb-size-multiplier));display:flex;align-items:center;justify-content:center;opacity:0.25" title="Audio Unavailable"><img src="/play.svg" alt="Play" style="width:calc(1.5rem * var(--ifm-breadcrumb-size-multiplier));height:calc(1.5rem * var(--ifm-breadcrumb-size-multiplier));transform:scale(0.6);filter:brightness(0) saturate(100%) invert(82%) sepia(2%) saturate(262%) hue-rotate(6deg) brightness(95%) contrast(88%)"></button></div><div class="mobile-only-speed-control"><button class="speed-control-button" style="background:transparent;border:none;border-radius:4px;padding:0.25rem;cursor:default;transition:opacity 300ms ease;height:calc(2rem * var(--ifm-breadcrumb-size-multiplier));width:calc(2rem * var(--ifm-breadcrumb-size-multiplier));display:flex;align-items:center;justify-content:center;opacity:0.25" title="Audio Unavailable"><span style="font-size:0.65rem;font-weight:300;color:#d1ccc7;transition:color 200ms ease;user-select:none;line-height:1">1x</span></button></div><div class="mobile-audio-divider"></div></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_Bca1"></div><div class="headerSwitcher_Lco_"><div class="stackedCircles_xcFh"><div class="circlesContainer_IWeC"><a href="/support-claudelog/"><picture><source type="image/webp" srcset="/img/supporters/supporter-001-36w.webp 36w, /img/supporters/supporter-001-72w.webp 72w, /img/supporters/supporter-001-108w.webp 108w" sizes="36px"><source type="image/jpeg" srcset="/img/supporters/supporter-001-36w.jpg 36w, /img/supporters/supporter-001-72w.jpg 72w, /img/supporters/supporter-001-108w.jpg 108w" sizes="36px"><img src="/img/supporters/supporter-001-36w.jpg" alt="Supporter" width="36" height="36" class="circle_Vivk circle1_eF2e" loading="lazy"></picture></a><a href="/support-claudelog/"><picture><source type="image/webp" srcset="/img/supporters/supporter-002-36w.webp 36w, /img/supporters/supporter-002-72w.webp 72w, /img/supporters/supporter-002-108w.webp 108w" sizes="36px"><source type="image/jpeg" srcset="/img/supporters/supporter-002-36w.jpg 36w, /img/supporters/supporter-002-72w.jpg 72w, /img/supporters/supporter-002-108w.jpg 108w" sizes="36px"><img src="/img/supporters/supporter-002-36w.jpg" alt="Supporter" width="36" height="36" class="circle_Vivk circle2_yu1c" loading="lazy"></picture></a><a href="/support-claudelog/"><picture><source type="image/webp" srcset="/img/supporters/supporter-003-36w.webp 36w, /img/supporters/supporter-003-72w.webp 72w, /img/supporters/supporter-003-108w.webp 108w" sizes="36px"><source type="image/png" srcset="/img/supporters/supporter-003-36w.png 36w, /img/supporters/supporter-003-72w.png 72w, /img/supporters/supporter-003-108w.png 108w" sizes="36px"><img src="/img/supporters/supporter-003-36w.png" alt="Supporter" width="36" height="36" class="circle_Vivk circle3_NH_y" loading="lazy"></picture></a><a href="/support-claudelog/"><picture><source type="image/webp" srcset="/img/supporters/supporter-004-36w.webp 36w, /img/supporters/supporter-004-72w.webp 72w, /img/supporters/supporter-004-108w.webp 108w" sizes="36px"><source type="image/jpeg" srcset="/img/supporters/supporter-004-36w.jpg 36w, /img/supporters/supporter-004-72w.jpg 72w, /img/supporters/supporter-004-108w.jpg 108w" sizes="36px"><img src="/img/supporters/supporter-004-36w.jpg" alt="Supporter" width="36" height="36" class="circle_Vivk circle4_uSAl" loading="lazy"></picture></a></div><a class="navbar__link supporters-text" href="/support-claudelog/">Support Us</a></div><div class="verdentSponsor_n0bq"><a href="https://ads.claudelog.com/https://www.verdent.ai/?ots=claudelog" target="_blank" rel="noreferrer sponsored" class="sponsorLink_DPcX" data-unit="header"><div class="sponsorLogo_obPL" role="img" aria-label="Verdent AI"></div><span class="sponsorText_unYY">Verdent.ai</span><span class="adLabel_fNaY">(ad)</span></a></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div style="filter:blur(4px);opacity:0;transition:filter 0.3s ease-in-out, opacity 0.3s ease-in-out;height:100%;display:flex;flex-direction:column"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/" target="_self">About</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/install-claude-code" target="_self">Install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/claude-code-tutorial" target="_self">Tutorial</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/configuration" target="_self">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/claude-code-pricing" target="_self">Pricing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/claude-news" target="_self">News</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/claude-code-changelog" target="_self">Changelog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><div class="sidebar-divider"></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 sidebar-sponsor-link"><a href="/verdent-ai" class="menu__link sidebar-sponsor-link"><span class="sidebar-sponsor-text">Verdent.ai</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/design/taste/">Design &amp; Invention</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="/design/taste" target="_self" tabindex="0">On Taste</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="/inventions/sub-agents-txt" target="_self" tabindex="0">Sub-agents.txt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item sidebar-item-new"><a class="menu__link" href="/inventions/vibe-animating" target="_self" tabindex="0">Vibe Animating</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/mechanics/you-are-the-main-thread/">Mechanics</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/mechanics/you-are-the-main-thread/">Foundation</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/you-are-the-main-thread" target="_self" tabindex="0">You are the Main Thread</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/claude-md-supremacy" target="_self" tabindex="0">CLAUDE.md Supremacy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/plan-mode" target="_self" tabindex="0">Plan Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/auto-plan-mode" target="_self" tabindex="0">Auto Plan Mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/rewind" target="_self" tabindex="0">Rewind</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/always-be-experimenting" target="_self" tabindex="0">Always Be Experimenting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/poison-context-awareness" target="_self" tabindex="0">Poison.md</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/context-window-constraints-as-training" target="_self" tabindex="0">Learn from the Constraint</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/context-inspection" target="_self" tabindex="0">Context Inspection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/dynamic-memory" target="_self" tabindex="0">Dynamic Memory</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/sanity-check" target="_self" tabindex="0">Sanity Check</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/output-styles" target="_self" tabindex="0">Output Styles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/permutation-frameworks" target="_self" tabindex="0">Permutation Frameworks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/vibe-coding" target="_self" tabindex="0">Vibe Coding</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/mechanics/task-agent-tools/">Agents</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/mechanics/ultrathink/">Performance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/mechanics/hooks/">Development</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a id="active-sidebar-link" class="menu__link menu__link--active" aria-current="page" href="/mechanics/hooks" target="_self" tabindex="0">Hooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/auto-accept-permissions" target="_self" tabindex="0">Auto-Accept Permissions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/dangerous-skip-permissions" target="_self" tabindex="0">Dangerous Skipping</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/git-clone-is-just-the-beginning" target="_self" tabindex="0">Git Clone Is Just The Beginning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/claude-usage" target="_self" tabindex="0">Claude Usage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/tight-feedback-loops" target="_self" tabindex="0">Tight Feedback Loops</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/todo-lists-as-instruction-mirrors" target="_self" tabindex="0">Todo Lists as Instruction Mirrors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="/mechanics/skeleton-projects" target="_self" tabindex="0">Skeleton Projects</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/watch-control/">CLAUDE.md Vault</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" href="/claude-code-mcps/">MCPs &amp; Add-ons</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menuHtmlItem_M9Kj menu__list-item"><div class="sidebar-divider"></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/faq" target="_self">FAQs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/sponsor" target="_self">Sponsor ClaudeLog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/contact" target="_self">Contact</a></li></ul></nav></div></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><article data-clarity-region="article"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><div style="position:relative"><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Alpn" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_xK9p"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Mechanics</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Development</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Hooks</span></li></ul></nav><div style="position:absolute;top:0;right:0;display:flex;align-items:center;gap:0.5rem;z-index:100"><div style="border:solid 1px #31312f;border-radius:50%"><audio preload="metadata" style="display:none"></audio><button class="audio-player-button" style="background:transparent;border:none;border-radius:4px;padding:0.25rem;cursor:default;transition:opacity 300ms ease;height:calc(2rem * var(--ifm-breadcrumb-size-multiplier));width:calc(2rem * var(--ifm-breadcrumb-size-multiplier));display:flex;align-items:center;justify-content:center;opacity:0.25" title="Audio Unavailable"><img src="/play.svg" alt="Play" style="width:calc(1.5rem * var(--ifm-breadcrumb-size-multiplier));height:calc(1.5rem * var(--ifm-breadcrumb-size-multiplier));transform:scale(0.6);filter:brightness(0) saturate(100%) invert(82%) sepia(2%) saturate(262%) hue-rotate(6deg) brightness(95%) contrast(88%)"></button></div><div style="border:solid 1px #31312f;border-radius:50%"><button class="speed-control-button" style="background:transparent;border:none;border-radius:4px;padding:0.25rem;cursor:default;transition:opacity 300ms ease;height:calc(2rem * var(--ifm-breadcrumb-size-multiplier));width:calc(2rem * var(--ifm-breadcrumb-size-multiplier));display:flex;align-items:center;justify-content:center;opacity:0.25" title="Audio Unavailable"><span style="font-size:0.65rem;font-weight:300;color:#d1ccc7;transition:color 200ms ease;user-select:none;line-height:1">1x</span></button></div><div style="border:solid 1px #31312f;border-radius:50%"><button class="focus-toggle-button" style="background:transparent;border:none;border-radius:4px;padding:0.25rem;cursor:pointer;transition:opacity 200ms ease;height:calc(2rem * var(--ifm-breadcrumb-size-multiplier));width:calc(2rem * var(--ifm-breadcrumb-size-multiplier));display:flex;align-items:center;justify-content:center;opacity:1" title="Toggle Focus Mode (Alt+F)"><img src="/focus_mode.svg" alt="Focus Mode" style="width:calc(1.5rem * var(--ifm-breadcrumb-size-multiplier));height:calc(1.5rem * var(--ifm-breadcrumb-size-multiplier));transform:scale(0.6);filter:brightness(0) saturate(100%) invert(82%) sepia(2%) saturate(262%) hue-rotate(6deg) brightness(95%) contrast(88%)"></button></div></div></div><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Hooks</h1></header>
<p>Hooks are a new mechanic introduced to Claude Code to allow deterministic responses based on a given event such as tool executions, file changes, or deployment activities.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="real-world-implementation">Real-World Implementation<a href="#real-world-implementation" class="hash-link" aria-label="Direct link to Real-World Implementation" title="Direct link to Real-World Implementation">â€‹</a></h3>
<p>I have been experimenting with simple use cases for how they can be used to improve the reliability of my existing workflows such as running various pre/post deploy related activities before deploying the ClaudeLog website live.</p>
<p>When you update a website online there are various SEO related activities which must be performed such as:</p>
<ul>
<li><strong>Deploying your sitemap</strong> to various web master tools.</li>
<li><strong>Checking build process</strong> has not generated invalid JSON schemas (different web masters are surprisingly sensitive).</li>
<li><strong>Validating URLs</strong> are all live and well formed.</li>
</ul>
<p>These were simple low hanging fruit which Claude suggested for me to explore implementing into my workflow based on my existing deployment pipeline.</p>
<hr>
<div class="alert alert--success image-tip-container" data-ct-fad7f1="1" style="background-color:transparent;position:relative;padding-right:clamp(70px, 15vw, 150px);overflow:hidden;filter:blur(8px);opacity:0.5;transition:filter 500ms ease, opacity 500ms ease" role="alert"><div class="admonitionHeading_Gvgb" style="display:flex;justify-content:flex-start;align-items:center;width:100%"><div style="display:flex;align-items:center;flex:1;min-width:0"><span class="admonitionIcon_Rf37 sponsorTipIcon_rTqR"></span><div style="margin:0;margin-top:1px;flex:1;color:#ffffff;font-weight:bold">Power up with parallel agents<!-- --> <span style="font-size:0.85em;opacity:0.7;text-transform:lowercase;font-weight:400">(ad)</span></div></div></div><div class="admonitionContent_BuS1"><p>Run multiple autonomous coding agents simultaneously with <a class="sponsorHyperLink" href="https://ads.claudelog.com/https://www.verdent.ai/verdent-deck?ots=claudelog" rel="noreferrer sponsored" style="text-decoration:none;font-weight:500">Verdent</a>&#x27;s isolated <code>Git worktrees</code>. Each agent tackles different components while maintaining full context awareness, eliminating manual debugging bottlenecks and accelerating feature delivery.<!-- --> <a class="sponsorHyperLink" href="https://ads.claudelog.com/https://www.verdent.ai/verdent-deck?ots=claudelog" rel="noreferrer sponsored" data-unit="random-tip" style="text-decoration:none;font-weight:500;white-space:nowrap">Discover Verdent AI<!-- --> <span class="free-trial-text">(Free Trial)</span></a></p></div><div class="imageTipWrapper_ISgZ" style="position:absolute;right:0;top:0;height:100%;max-width:clamp(60px, 13vw, 999px);overflow:hidden"><img src="/img/ads/sponsors/verdent_ai_horizontal_large_2.png" alt="Power up with parallel agents" class="imageTipImage_AvHX" style="height:100%;width:auto;object-fit:cover;transform:scale(1.38)"></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-scoping-challenge">The Scoping Challenge<a href="#the-scoping-challenge" class="hash-link" aria-label="Direct link to The Scoping Challenge" title="Direct link to The Scoping Challenge">â€‹</a></h3>
<p>Interestingly I found the fiddliest bit was scoping the activation requirements such that they do not activate too early.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="badly-scoped-hook-example">Badly Scoped Hook Example<a href="#badly-scoped-hook-example" class="hash-link" aria-label="Direct link to Badly Scoped Hook Example" title="Direct link to Badly Scoped Hook Example">â€‹</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;PreToolUse&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;matcher&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Bash&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;command&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;command&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;./scripts/expensive-validation.sh&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p><em>This fires on ANY bash command, running expensive validation even for simple <code>ls</code> or <code>pwd</code> commands</em></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="better-scoped-hook-example---smart-dispatcher-pattern">Better Scoped Hook Example - Smart Dispatcher Pattern<a href="#better-scoped-hook-example---smart-dispatcher-pattern" class="hash-link" aria-label="Direct link to Better Scoped Hook Example - Smart Dispatcher Pattern" title="Direct link to Better Scoped Hook Example - Smart Dispatcher Pattern">â€‹</a></h3>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;PreToolUse&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;matcher&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Bash&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;command&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;command&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;./scripts/smart-hook-dispatcher.sh&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p><strong>Smart Dispatcher Script:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Read JSON input from Claude Code</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">json_input=$(cat)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">command=$(echo &quot;$json_input&quot; | jq -r &#x27;.tool_input.command // empty&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Exit early if no command</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if [ -z &quot;$command&quot; ]; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Scope to specific commands only</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if echo &quot;$command&quot; | grep -q &quot;npm run deploy&quot;; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  echo &quot;ðŸš€ Running pre-deployment validation...&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ./scripts/pre-deployment-checks.sh &lt;&lt;&lt; &quot;$json_input&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if echo &quot;$command&quot; | grep -q &quot;npm run build&quot;; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  echo &quot;ðŸ”§ Running build validation...&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ./scripts/build-validator.sh &lt;&lt;&lt; &quot;$json_input&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span></code></pre></div></div>
<p><em>This intelligently routes commands based on content analysis, only running expensive operations when needed</em></p>
<hr>
<div class="ad-blank"></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="finding-hook-opportunities">Finding Hook Opportunities<a href="#finding-hook-opportunities" class="hash-link" aria-label="Direct link to Finding Hook Opportunities" title="Direct link to Finding Hook Opportunities">â€‹</a></h3>
<p>To find suggestions for where hooks could be useful within your setup be sure to ask Claude to review your current systems and suggest the benefit of Hooks.</p>
<p>Just beware that if they&#x27;re unnecessarily firing you will have an extremely slowed down Agent (thankfully it is not costing you tokens though).</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-tool-inputs-with-pretooluse">Modifying Tool Inputs with PreToolUse<a href="#modifying-tool-inputs-with-pretooluse" class="hash-link" aria-label="Direct link to Modifying Tool Inputs with PreToolUse" title="Direct link to Modifying Tool Inputs with PreToolUse">â€‹</a></h3>
<p>Starting in v2.0.10, PreToolUse hooks can modify tool inputs before execution. Instead of blocking Claude&#x27;s actions and forcing retries, hooks intercept tool calls, modify the JSON input, and let execution proceed with corrected parameters. This enables transparent sandboxing, automatic security enforcement (dry-run flags, secret redaction), team convention adherence (commit message formatting, linter configuration), and developer experience improvements (path correction, dependency auto-installation). The modifications are invisible to Claude.</p>
<p>This enables dynamic parameter adjustment, input validation, and automatic correction of tool arguments based on project-specific requirements.</p>
<p><strong>Use Cases for Tool Input Modification:</strong></p>
<ul>
<li><strong>Environment Variables</strong> - Automatically inject required environment variables before commands.</li>
<li><strong>Path Normalization</strong> - Convert relative paths to absolute paths based on project structure.</li>
<li><strong>Security Wrappers</strong> - Wrap commands with security constraints or sandboxing.</li>
<li><strong>Parameter Validation</strong> - Check and correct parameter formats before execution.</li>
<li><strong>Logging Enhancement</strong> - Add verbose flags or logging parameters automatically.</li>
</ul>
<p>The hook script receives the tool input JSON via stdin and outputs the modified JSON to stdout. Claude Code uses the modified input for tool execution.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="available-triggers">Available Triggers<a href="#available-triggers" class="hash-link" aria-label="Direct link to Available Triggers" title="Direct link to Available Triggers">â€‹</a></h3>
<ul>
<li><strong>PreToolUse</strong> - Before tool execution.</li>
<li><strong>PostToolUse</strong> - After tool completion.</li>
<li><strong>UserPromptSubmit</strong> - When user submits a prompt.</li>
<li><strong>PermissionRequest</strong> - When Claude requests permission for a tool (v2.0.45+).</li>
<li><strong>Stop</strong> - When Claude Code agent finishes responding.</li>
<li><strong>SubagentStop</strong> - When a subagent finishes (v1.0.41+).</li>
<li><strong>SessionEnd</strong> - When Claude Code session terminates.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="permissionrequest-hook">PermissionRequest Hook<a href="#permissionrequest-hook" class="hash-link" aria-label="Direct link to PermissionRequest Hook" title="Direct link to PermissionRequest Hook">â€‹</a></h3>
<p>The PermissionRequest hook (<code>v2.0.45</code>) allows you to automatically approve or deny tool permission requests with custom logic. This enables programmatic control over which tools Claude can use without manual intervention.</p>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Auto-approve trusted tools for specific projects</li>
<li>Deny dangerous commands in production environments</li>
<li>Implement custom security policies</li>
<li>Process &#x27;always allow&#x27; suggestions automatically (v2.0.54+)</li>
</ul>
<p><strong>Example Configuration:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;PermissionRequest&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;matcher&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;*&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token property">&quot;hooks&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;command&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token property">&quot;command&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;./scripts/permission-handler.sh&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p><strong>Permission Handler Script:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">json_input=$(cat)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Extract tool info from permission prompt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">tool_name=$(echo &quot;$json_input&quot; | jq -r &#x27;.tool_name // empty&#x27;)</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Auto-approve read-only tools</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if [[ &quot;$tool_name&quot; =~ ^(Read|Glob|Grep|LS)$ ]]; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  echo &#x27;{&quot;decision&quot;: {&quot;behavior&quot;: &quot;allow&quot;}}&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Deny dangerous patterns</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">if echo &quot;$json_input&quot; | jq -r &#x27;.tool_input.command // empty&#x27; | grep -q &quot;rm -rf&quot;; then</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  echo &#x27;{&quot;decision&quot;: {&quot;behavior&quot;: &quot;deny&quot;, &quot;message&quot;: &quot;Dangerous command blocked&quot;}}&#x27;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  exit 0</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">fi</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Default: show normal permission prompt</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">exit 0</span><br></span></code></pre></div></div>
<p><strong>Response Format:</strong></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;decision&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;behavior&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;allow&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;updatedInput&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Optional: modify tool parameters</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;decision&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;behavior&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;deny&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;message&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Reason for denial&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;interrupt&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// Optional: stop Claude entirely</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p><strong>Behavior Options:</strong></p>
<ul>
<li><code>&quot;allow&quot;</code> - Permits the action automatically</li>
<li><code>&quot;deny&quot;</code> - Blocks the action with optional message</li>
<li>Exit with no decision - Shows normal permission prompt to user</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="common-json-fields">Common JSON Fields<a href="#common-json-fields" class="hash-link" aria-label="Direct link to Common JSON Fields" title="Direct link to Common JSON Fields">â€‹</a></h3>
<p>All hook types can include these optional fields for controlling execution behavior:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;continue&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">               </span><span class="token comment" style="color:rgb(98, 114, 164)">// Whether Claude should continue after hook execution (default: true)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;stopReason&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">// Message shown when continue is false</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;suppressOutput&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain">         </span><span class="token comment" style="color:rgb(98, 114, 164)">// Hide stdout from transcript mode (default: false)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;systemMessage&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;string&quot;</span><span class="token plain">       </span><span class="token comment" style="color:rgb(98, 114, 164)">// Optional warning message shown to the user</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="best-practices">Best Practices<a href="#best-practices" class="hash-link" aria-label="Direct link to Best Practices" title="Direct link to Best Practices">â€‹</a></h3>
<ul>
<li><strong>Smart dispatching</strong> - Use single entry point with intelligent command routing to avoid performance penalties.</li>
<li><strong>Exit code checking</strong> - Validate successful command execution in PostToolUse hooks (<code>.tool_response.exit_code</code> only available after execution).</li>
<li><strong>Parallel execution</strong> - Run independent validations concurrently with <code>&amp;</code> and <code>wait</code> for faster processing.</li>
<li><strong>JSON input parsing</strong> - Extract command details with <code>jq -r &#x27;.tool_input.command // empty&#x27;</code> (fallback handles missing fields gracefully).</li>
<li><strong>Performance monitoring</strong> - Track hook execution time and cache results to identify bottlenecks.</li>
<li><strong>Error handling</strong> - Graceful failure for non-critical hooks prevents workflow interruption.</li>
<li><strong>Scope precisely</strong> - Target specific commands rather than broad tool categories to maintain responsiveness.</li>
<li><strong>Tool input modification</strong> - When modifying tool inputs in PreToolUse hooks, ensure output is valid JSON and preserve all required fields.</li>
</ul>
<div class="alert alert--success image-tip-container" style="background-color:transparent;position:relative;padding-right:clamp(70px, 15vw, 150px);overflow:hidden" role="alert"><div class="admonitionHeading_Gvgb" style="display:flex;justify-content:flex-start;align-items:center;width:100%"><div style="display:flex;align-items:center;flex:1;min-width:0"><span class="admonitionIcon_Rf37"><div class="star-icon-container animation-1"><img src="/img/star_logo_part_1.svg" class="star-bar bar-1" alt=""><img src="/img/star_logo_part_2.svg" class="star-bar bar-2" alt=""><img src="/img/star_logo_part_3.svg" class="star-bar bar-3" alt=""><img src="/img/star_logo_part_4.svg" class="star-bar bar-4" alt=""><img src="/img/star_logo_part_5.svg" class="star-bar bar-5" alt=""><img src="/img/star_logo_part_6.svg" class="star-bar bar-6" alt=""></div></span><div style="margin:0;margin-top:1px;flex:1;color:#ffffff;font-weight:bold">Workflow Automation</div></div></div><div class="admonitionContent_BuS1"><p>Hooks transform reactive development into proactive automation. Well-scoped hooks eliminate manual deployment steps and catch issues before they reach production. The key is precise trigger patterns.</p></div><div class="imageTipWrapper_ISgZ" style="position:absolute;right:0;top:0;height:100%;max-width:clamp(60px, 13vw, 999px);overflow:hidden"><picture><source type="image/webp" srcset="/img/discovery/032_wind_orange-343w.webp 343w, /img/discovery/032_wind_orange-686w.webp 686w" sizes="undefinedpx"><source type="image/webp" srcset="/img/discovery/032_wind_orange-343w.webp 343w, /img/discovery/032_wind_orange-686w.webp 686w" sizes="undefinedpx"><img src="/img/discovery/032_wind_orange-343w.webp" alt="Custom image" class="imageTipImage_AvHX" style="height:100%;width:auto;object-fit:cover;transform:scale(1.38)" loading="lazy"></picture></div></div>
<div class="alert alert--success image-tip-container" data-ct-fad7f1="1" style="background-color:transparent;position:relative;padding-right:clamp(70px, 15vw, 150px);overflow:hidden;filter:blur(8px);opacity:0.5;transition:filter 500ms ease, opacity 500ms ease" role="alert"><div class="admonitionHeading_Gvgb" style="display:flex;justify-content:flex-start;align-items:center;width:100%"><div style="display:flex;align-items:center;flex:1;min-width:0"><span class="admonitionIcon_Rf37 sponsorTipIcon_rTqR"></span><div style="margin:0;margin-top:1px;flex:1;color:#ffffff;font-weight:bold">Power up with parallel agents<!-- --> <span style="font-size:0.85em;opacity:0.7;text-transform:lowercase;font-weight:400">(ad)</span></div></div></div><div class="admonitionContent_BuS1"><p>Run multiple autonomous coding agents simultaneously with <a class="sponsorHyperLink" href="https://ads.claudelog.com/https://www.verdent.ai/verdent-deck?ots=claudelog" rel="noreferrer sponsored" style="text-decoration:none;font-weight:500">Verdent</a>&#x27;s isolated <code>Git worktrees</code>. Each agent tackles different components while maintaining full context awareness, eliminating manual debugging bottlenecks and accelerating feature delivery.<!-- --> <a class="sponsorHyperLink" href="https://ads.claudelog.com/https://www.verdent.ai/verdent-deck?ots=claudelog" rel="noreferrer sponsored" data-unit="random-tip" style="text-decoration:none;font-weight:500;white-space:nowrap">Discover Verdent AI<!-- --> <span class="free-trial-text">(Free Trial)</span></a></p></div><div class="imageTipWrapper_ISgZ" style="position:absolute;right:0;top:0;height:100%;max-width:clamp(60px, 13vw, 999px);overflow:hidden"><img src="/img/ads/sponsors/verdent_ai_horizontal_large_2.png" alt="Power up with parallel agents" class="imageTipImage_AvHX" style="height:100%;width:auto;object-fit:cover;transform:scale(1.38)"></div></div>
<hr>
<p>See Also: <a href="/configuration/">Configuration</a><span class="see-also-divider">|</span><a href="/faqs/what-is-hooks-in-claude-code/">What is Hooks in Claude Code</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-12-10T15:19:35.000Z" itemprop="dateModified">Dec 10, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/mechanics/sub-agent-tactics/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Sub-agent Tactics</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mechanics/auto-accept-permissions/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Auto-Accept Permissions</div></a></nav><div class="authorSection_ND4T"><span><strong>Author</strong>:</span><a href="https://www.linkedin.com/in/wilfredkasekende/" class="authorLink_kLz8"><picture><source type="image/webp" srcset="/img/claudes-greatest-soldier-44w.webp 44w, /img/claudes-greatest-soldier-88w.webp 88w, /img/claudes-greatest-soldier-132w.webp 132w" sizes="44px"><source type="image/webp" srcset="/img/claudes-greatest-soldier-44w.webp 44w, /img/claudes-greatest-soldier-88w.webp 88w, /img/claudes-greatest-soldier-132w.webp 132w" sizes="44px"><img src="/img/claudes-greatest-soldier-44w.webp" alt="" width="44" height="44" class="profile-image profileImage_SK9V" loading="lazy"></picture>InventorBlack</a><span class="divider_P9AS">|</span><span>CTO at <a href="https://commandstick.com">Command Stick</a></span><span class="divider_P9AS">|</span><span>Mod at <a href="https://reddit.com/r/ClaudeAI">r/ClaudeAi</a></span></div></div></div><div class="col col--3"><div class="toc-container"><div class="tableOfContents_jeP5 thin-scrollbar theme-doc-toc-desktop" style="transition:max-height 0.1s ease-in-out;max-height:calc(100vh - (var(--ifm-navbar-height) + 2rem))"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#real-world-implementation" class="table-of-contents__link toc-highlight">Real-World Implementation</a></li><li><a href="#the-scoping-challenge" class="table-of-contents__link toc-highlight">The Scoping Challenge</a></li><li><a href="#badly-scoped-hook-example" class="table-of-contents__link toc-highlight">Badly Scoped Hook Example</a></li><li><a href="#better-scoped-hook-example---smart-dispatcher-pattern" class="table-of-contents__link toc-highlight">Better Scoped Hook Example - Smart Dispatcher Pattern</a></li><li><a href="#finding-hook-opportunities" class="table-of-contents__link toc-highlight">Finding Hook Opportunities</a></li><li><a href="#modifying-tool-inputs-with-pretooluse" class="table-of-contents__link toc-highlight">Modifying Tool Inputs with PreToolUse</a></li><li><a href="#available-triggers" class="table-of-contents__link toc-highlight">Available Triggers</a></li><li><a href="#permissionrequest-hook" class="table-of-contents__link toc-highlight">PermissionRequest Hook</a></li><li><a href="#common-json-fields" class="table-of-contents__link toc-highlight">Common JSON Fields</a></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li></ul></div><div class="toc-newsletter-section stats"><div class="toc-newsletter-content"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:0.75rem"><div class="newsletter-heading"><div class="metrics-icon-container animation-1"><img src="/img/metrics-icon-part-1.svg" class="metrics-bar bar-1" alt=""><img src="/img/metrics-icon-part-2.svg" class="metrics-bar bar-2" alt=""><img src="/img/metrics-icon-part-3.svg" class="metrics-bar bar-3" alt=""><img src="/img/metrics-icon-part-4.svg" class="metrics-bar bar-4" alt=""></div><span>Live Users (0)</span></div><div class="toc-carousel-dots" style="display:flex;gap:0.5rem;align-items:center;margin-bottom:0.1rem"><div style="width:8px;height:8px;border-radius:50%;border:1px solid #444444;background-color:var(--sponsor-color, #B061F1);border-color:var(--sponsor-color, #B061F1);transition:all 300ms ease;cursor:pointer"></div><div style="width:8px;height:8px;border-radius:50%;border:1px solid #444444;background-color:transparent;border-color:#444444;transition:all 300ms ease;cursor:pointer"></div><div style="width:8px;height:8px;border-radius:50%;border:1px solid #444444;background-color:transparent;border-color:#444444;transition:all 300ms ease;cursor:pointer"></div></div></div><div class="toc-stats-scrollable" style="font-family:monospace;font-size:0.9rem;line-height:1.8;overflow-x:auto;scrollbar-width:none;-ms-overflow-style:none"><div>Loading stats...</div></div></div></div></div></div></div></article></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Hot</div><ul class="footer__items clean-list"><li class="footer__item sponsor-footer-link"><a href="https://ads.claudelog.com/https://www.verdent.ai/?ots=claudelog" rel="noreferrer sponsored" class="sponsor-footer-link" data-unit="footer"><span class="sponsor-footer-text">Verdent.ai</span><span class="footer-ad-label footer-link"> (ad)</span></a></li><li class="footer__item wearos-central-footer-link"><div class="wearos-central-footer-item"><a href="https://www.wearoscentral.com" class="wearos-central-footer-link" target="_blank"><div class="wearos-central-logo" role="img" aria-label="WearOS Central"></div><span class="wearos-central-footer-text footer-link">WearOS Central</span></a></div></li><li class="footer__item"><div class="stackedCircles_wruZ"><div class="circlesContainer_bk8N"><a href="/support-claudelog/"><picture><source type="image/webp" srcset="/img/supporters/supporter-001-36w.webp 36w, /img/supporters/supporter-001-72w.webp 72w, /img/supporters/supporter-001-108w.webp 108w" sizes="36px"><source type="image/jpeg" srcset="/img/supporters/supporter-001-36w.jpg 36w, /img/supporters/supporter-001-72w.jpg 72w, /img/supporters/supporter-001-108w.jpg 108w" sizes="36px"><img src="/img/supporters/supporter-001-36w.jpg" alt="Supporter" width="36" height="36" class="circle_G0nh circle1_D4UQ" loading="lazy"></picture></a><a href="/support-claudelog/"><picture><source type="image/webp" srcset="/img/supporters/supporter-002-36w.webp 36w, /img/supporters/supporter-002-72w.webp 72w, /img/supporters/supporter-002-108w.webp 108w" sizes="36px"><source type="image/jpeg" srcset="/img/supporters/supporter-002-36w.jpg 36w, /img/supporters/supporter-002-72w.jpg 72w, /img/supporters/supporter-002-108w.jpg 108w" sizes="36px"><img src="/img/supporters/supporter-002-36w.jpg" alt="Supporter" width="36" height="36" class="circle_G0nh circle2_ySN4" loading="lazy"></picture></a><a href="/support-claudelog/"><picture><source type="image/webp" srcset="/img/supporters/supporter-003-36w.webp 36w, /img/supporters/supporter-003-72w.webp 72w, /img/supporters/supporter-003-108w.webp 108w" sizes="36px"><source type="image/png" srcset="/img/supporters/supporter-003-36w.png 36w, /img/supporters/supporter-003-72w.png 72w, /img/supporters/supporter-003-108w.png 108w" sizes="36px"><img src="/img/supporters/supporter-003-36w.png" alt="Supporter" width="36" height="36" class="circle_G0nh circle3_Bv2P" loading="lazy"></picture></a><a href="/support-claudelog/"><picture><source type="image/webp" srcset="/img/supporters/supporter-004-36w.webp 36w, /img/supporters/supporter-004-72w.webp 72w, /img/supporters/supporter-004-108w.webp 108w" sizes="36px"><source type="image/jpeg" srcset="/img/supporters/supporter-004-36w.jpg 36w, /img/supporters/supporter-004-72w.jpg 72w, /img/supporters/supporter-004-108w.jpg 108w" sizes="36px"><img src="/img/supporters/supporter-004-36w.jpg" alt="Supporter" width="36" height="36" class="circle_G0nh circle4_uNf5" loading="lazy"></picture></a></div><a class="footer__link-item" href="/support-claudelog/">Supporters</a></div></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="/cdn-cgi/l/email-protection#3058555c5c5f70535c514554555c5f571e535f5d" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/inventorBlack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/wilfredkasekende/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/privacy-policy/">Privacy Policy</a></li><li class="footer__item"><a class="footer__link-item" href="/terms-of-service/">Terms of Service</a></li><li class="footer__item"><a class="footer__link-item" href="/disclaimer/">Disclaimer</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Newsletter</div><ul class="footer__items clean-list"><li class="footer__item"><div id="mc_embed_shell">
  <style>
                <link href="/css/mailchimp-classic.css" rel="stylesheet" type="text/css">
        #mc_embed_signup{background:#transparent; false;clear:left; font-family: 'TWKLausanne', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; width: 300px; padding: 0px !important;}
        #mc_embed_signup form { margin: 0 !important; }
        #mc_embed_signup .mc-field-group { display: block; align-items: center; gap: 8px; margin: 0 !important; }
        #mc_embed_signup input[type="email"] { width: 180px; padding: 6px; background: transparent; border: solid 1px #333; }
        #mc_embed_signup input[type="email"]:focus { border: solid 1px #B061F1 !important; outline: none !important; box-shadow: none !important; }
        #mc_embed_signup .mc-field-group input { width: unset; text-indent: unset; font-family: 'TWKLausanne', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
        #mc_embed_signup input[type="submit"] {
    padding: 0;
    margin: 0;
    margin-left: 5px;
}
        #mc_embed_signup .button { line-height: 20px; vertical-align: middle; background-color: transparent; color: white; font-weight: 300; }
        #mc_embed_signup .button:hover { background-color: transparent; color: #B061F1; }
        #mc_embed_signup label { margin-bottom: 4px; display: block; width: 100%; }
        #mc_embed_signup_scroll { padding: 0 !important; margin: 0 !important; }

        /* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
           We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
    <form action="https://claudelog.us5.list-manage.com/subscribe/post?u=a5ab514d08f1288c3a11abf69&amp;id=061b81b738&amp;f_id=007943edf0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank">
        <div id="mc_embed_signup_scroll">
            <div class="mc-field-group">
                <div style="display: flex; gap: 8px;">
                    <input type="email" name="EMAIL" class="required email" id="mce-EMAIL" required="" value="" placeholder="Email Address" autocomplete="email">
                    <input type="submit" name="subscribe" id="mc-embedded-subscribe" class="button" value="Subscribe â†—" style="font-weight: 400;">
                </div>
            </div>
        <div id="mce-responses" class="clear">
            <div class="response" id="mce-error-response" style="display: none;"></div>
            <div class="response" id="mce-success-response" style="display: none;"></div>
        </div><div aria-hidden="true" style="position: absolute; left: -5000px;"><input type="text" name="b_a5ab514d08f1288c3a11abf69_061b81b738" tabindex="-1" value="" autocomplete="off"></div>
    </div>
</form>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>!function(){var e=!1;function t(){if(!e&&!document.getElementById("mc-validate-script")){e=!0;var t=document.createElement("script");t.id="mc-validate-script",t.src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js",t.onload=function(){jQuery,window.fnames=new Array,window.ftypes=new Array,fnames[0]="EMAIL",ftypes[0]="email",fnames[1]="FNAME",ftypes[1]="text",fnames[2]="LNAME",ftypes[2]="text",fnames[3]="ADDRESS",ftypes[3]="address",fnames[4]="PHONE",ftypes[4]="phone",fnames[5]="BIRTHDAY",ftypes[5]="birthday",fnames[6]="COMPANY",ftypes[6]="text";jQuery.noConflict(!0)},document.body.appendChild(t)}}function n(){[document.querySelector('#mc_embed_signup input[type="email"]'),document.querySelector('.toc-newsletter-content input[type="email"]')].forEach((function(e){e&&e.addEventListener("focus",t,{once:!0})}))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n(),setTimeout(n,1e3)}()</script></div></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div style="display: flex; justify-content: space-between; align-items: center; width: 100%;"><span style="color: rgb(191, 191, 188);">Copyright Â© 2025 <a href="https://www.commandstick.com" style="color: rgb(191, 191, 188); text-decoration: none;" onmouseover='this.style.color="#B061F1"' onmouseout='this.style.color="rgb(191, 191, 188)"'>Command Stickâ„¢ â†—</a></span><span style="color: rgb(191, 191, 188); font-family: 'TWKLausanne', sans-serif; font-size: 0.9rem; white-space: nowrap;">Updated: 12/11/2025</span></div></div></div></div></footer></div>
<script src="/assets/js/runtime~main.42d2ce5f.js"></script>
<script src="/assets/js/main.eba49740.js"></script>
</body>
</html>